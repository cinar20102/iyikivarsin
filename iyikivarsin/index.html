<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>İyi ki Doğdun Kuzen!</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96c93d);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            font-family: 'Arial', sans-serif;
            overflow: hidden;
            position: relative;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .container {
            text-align: center;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            animation: fadeIn 2s ease-in;
            z-index: 1;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h1 {
            font-size: 3.5rem;
            color: #fff;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5),
                         0 0 20px rgba(255, 255, 255, 0.3),
                         0 0 30px rgba(255, 255, 255, 0.2);
            margin-bottom: 2rem;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 0 0 10px rgba(255, 255, 255, 0.5),
                             0 0 20px rgba(255, 255, 255, 0.3),
                             0 0 30px rgba(255, 255, 255, 0.2); }
            to { text-shadow: 0 0 20px rgba(255, 255, 255, 0.8),
                           0 0 30px rgba(255, 255, 255, 0.6),
                           0 0 40px rgba(255, 255, 255, 0.4); }
        }

        .gift-button {
            padding: 1rem 2rem;
            font-size: 1.5rem;
            background: linear-gradient(45deg, #ff6b6b, #ff8e8e);
            border: none;
            border-radius: 50px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .gift-button:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #f00;
            opacity: 0.7;
            animation: fall linear forwards;
        }

        @keyframes fall {
            to { transform: translateY(100vh) rotate(360deg); }
        }

        .balloon {
            position: absolute;
            width: 30px;
            height: 40px;
            background: radial-gradient(circle at 50% 50%, #ff6b6b, #ff8e8e);
            border-radius: 50%;
            z-index: 20;
        }

        @keyframes balloonUp {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            80% { opacity: 1; }
            100% { transform: translateY(-100vh) scale(1.1); opacity: 0; }
        }

        /* Lüks EKG ve genel tasarım */
        .ekg-outer {
            position: fixed;
            left: 0;
            bottom: 40px;
            width: 100vw;
            height: 140px;
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 10;
        }
        .ekg-glass {
            width: 80vw;
            max-width: 700px;
            height: 120px;
            background: rgba(255,255,255,0.15);
            border-radius: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.25);
            backdrop-filter: blur(12px);
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1.5px solid rgba(255,255,255,0.25);
        }
        #ekg-svg {
            width: 100%;
            height: 120px;
            display: block;
        }

        .balloon-wrapper {
            pointer-events: none;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2.5rem;
            }
            .container {
                padding: 1.5rem;
                margin: 1rem;
            }
            .gift-button {
                font-size: 1.2rem;
                padding: 0.8rem 1.6rem;
            }
        }

        @keyframes zigzag-left {
            0% { transform: translateY(0) translateX(0) scale(1); opacity: 1; }
            20% { transform: translateY(-20vh) translateX(-20px) scale(1.05); }
            40% { transform: translateY(-40vh) translateX(20px) scale(1.1); }
            60% { transform: translateY(-60vh) translateX(-20px) scale(1.08); }
            80% { transform: translateY(-80vh) translateX(20px) scale(1.12); opacity: 1; }
            100% { transform: translateY(-100vh) translateX(-10px) scale(1.1); opacity: 0; }
        }
        @keyframes zigzag-right {
            0% { transform: translateY(0) translateX(0) scale(1); opacity: 1; }
            20% { transform: translateY(-20vh) translateX(20px) scale(1.05); }
            40% { transform: translateY(-40vh) translateX(-20px) scale(1.1); }
            60% { transform: translateY(-60vh) translateX(20px) scale(1.08); }
            80% { transform: translateY(-80vh) translateX(-20px) scale(1.12); opacity: 1; }
            100% { transform: translateY(-100vh) translateX(10px) scale(1.1); opacity: 0; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 style="color:#ff2d55; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
            İyi ki Doğdun Kuzen!
            <svg id="beating-heart" width="40" height="40" viewBox="0 0 40 40" style="vertical-align: middle;">
                <path d="M20 36s-8.5-7.4-12.2-11.1C3.1 22.2 2 19.6 2 17.2 2 12.2 6.2 8 11.2 8c2.6 0 5.1 1.2 6.8 3.2C19.7 9.2 22.2 8 24.8 8 29.8 8 34 12.2 34 17.2c0 2.4-1.1 5-5.8 7.7C28.5 28.6 20 36 20 36z" fill="#ff2d55">
                </path>
            </svg>
        </h1>
        <button class="gift-button" onclick="toggleMusic()">Müziği Çal</button>
    </div>

    <svg id="ekg-svg" style="position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:10;pointer-events:none;" width="100vw" height="100vh"></svg>

    <video id="birthdayMusic" loop style="display: none;">
        <source src="video.mp4" type="video/mp4">
    </video>

    <script>
        let isPlaying = false;
        const music = document.getElementById('birthdayMusic');
        const ekgSVG = document.getElementById('ekg-svg');
        const button = document.querySelector('.gift-button');
        const beatingHeart = document.getElementById('beating-heart');

        // Kalp atışı animasyonu
        function animateHeart() {
            let t = 0;
            function beat() {
                const scale = 1 + 0.15 * Math.abs(Math.sin(t));
                beatingHeart.setAttribute('style', `vertical-align: middle; transform: scale(${scale}); transition: transform 0.1s;`);
                t += 0.12;
                requestAnimationFrame(beat);
            }
            beat();
        }
        animateHeart();

        function toggleMusic() {
            if (!isPlaying) {
                music.play().catch(error => {
                    console.error('Video oynatma hatası:', error);
                });
                isPlaying = true;
                button.textContent = 'Müziği Durdur';
                ekgSVG.style.display = 'block';
                createBalloons();
            } else {
                music.pause();
                isPlaying = false;
                button.textContent = 'Müziği Çal';
                ekgSVG.style.display = 'none';
            }
        }

        // EKG animasyonu (tam genişlik, sürekli akan, kalpsiz)
        let ekgAnimFrame = 0;
        function animateEKG() {
            const width = window.innerWidth;
            const height = window.innerHeight;
            ekgSVG.setAttribute('width', width);
            ekgSVG.setAttribute('height', height);
            ekgSVG.setAttribute('viewBox', `0 0 ${width} ${height}`);
            ekgSVG.innerHTML = `<defs>
                <filter id='glow' x='-50%' y='-50%' width='200%' height='200%'>
                    <feGaussianBlur stdDeviation='3' result='coloredBlur'/>
                    <feMerge>
                        <feMergeNode in='coloredBlur'/>
                        <feMergeNode in='SourceGraphic'/>
                    </feMerge>
                </filter>
            </defs>`;
            const ekgRows = Math.floor(height / 120);
            const rowGap = height / (ekgRows + 1);
            let mainWave = 0;
            for (let row = 0; row < ekgRows; row++) {
                const baseY = rowGap * (row + 1);
                const amp = 30;
                const points = [];
                const step = 8;
                const phase = ekgAnimFrame / 10 + row * 0.7;
                for (let x = 0; x <= width; x += step) {
                    let y = baseY;
                    const wavePos = ((x + ekgAnimFrame * 6) % 400) / 400;
                    if (wavePos > 0.18 && wavePos < 0.22) {
                        y -= amp * 0.7;
                    } else if (wavePos > 0.22 && wavePos < 0.25) {
                        y += amp * 1.2;
                    } else if (wavePos > 0.25 && wavePos < 0.28) {
                        y -= amp * 1.5;
                    } else if (wavePos > 0.28 && wavePos < 0.32) {
                        y += amp * 0.8;
                    } else {
                        y -= Math.sin(phase + x/80) * 6;
                    }
                    points.push(`${x},${y}`);
                    if (row === Math.floor(ekgRows/2) && x === Math.floor(width/2)) {
                        mainWave = y;
                    }
                }
                const polyline = document.createElementNS('http://www.w3.org/2000/svg','polyline');
                polyline.setAttribute('fill','none');
                polyline.setAttribute('stroke','#ff2d55');
                polyline.setAttribute('stroke-width','4');
                polyline.setAttribute('filter','url(#glow)');
                polyline.setAttribute('points', points.join(' '));
                ekgSVG.appendChild(polyline);
            }
            const color1 = `hsl(${(mainWave*2+360)%360}, 80%, 60%)`;
            const color2 = `hsl(${(mainWave*2+180)%360}, 80%, 70%)`;
            document.body.style.background = `linear-gradient(120deg, ${color1}, ${color2})`;
            ekgAnimFrame++;
            requestAnimationFrame(animateEKG);
        }
        animateEKG();
        window.addEventListener('resize', () => { ekgAnimFrame = 0; });

        // Balon oluşturma fonksiyonu (sadece butona basınca)
        function createBalloons() {
            try {
                const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96c93d', '#ffd93d'];
                for (let i = 0; i < 10; i++) {
                    // Balloon wrapper
                    const wrapper = document.createElement('div');
                    wrapper.className = 'balloon-wrapper';
                    wrapper.style.position = 'absolute';
                    wrapper.style.left = Math.random() * 100 + 'vw';
                    wrapper.style.bottom = '-60px';
                    wrapper.style.zIndex = 20;
                    // Zigzag direction
                    const direction = Math.random() < 0.5 ? 'zigzag-left' : 'zigzag-right';
                    wrapper.classList.add(direction);
                    wrapper.style.animation = `${direction} 6s cubic-bezier(.17,.67,.83,.67) forwards`;
                    wrapper.style.animationDelay = Math.random() * 2 + 's';

                    // Balloon SVG
                    const balloonSVG = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
                    balloonSVG.setAttribute('width', '36');
                    balloonSVG.setAttribute('height', '60');
                    balloonSVG.setAttribute('viewBox', '0 0 36 60');
                    balloonSVG.style.overflow = 'visible';

                    // Balloon ellipse (body)
                    const ellipse = document.createElementNS('http://www.w3.org/2000/svg', 'ellipse');
                    ellipse.setAttribute('cx', '18');
                    ellipse.setAttribute('cy', '25');
                    ellipse.setAttribute('rx', '16');
                    ellipse.setAttribute('ry', '22');
                    ellipse.setAttribute('fill', colors[Math.floor(Math.random() * colors.length)]);
                    ellipse.setAttribute('filter', 'url(#balloon-glow)');
                    balloonSVG.appendChild(ellipse);

                    // Balloon highlight
                    const highlight = document.createElementNS('http://www.w3.org/2000/svg', 'ellipse');
                    highlight.setAttribute('cx', '13');
                    highlight.setAttribute('cy', '18');
                    highlight.setAttribute('rx', '4');
                    highlight.setAttribute('ry', '7');
                    highlight.setAttribute('fill', 'rgba(255,255,255,0.5)');
                    balloonSVG.appendChild(highlight);

                    // Balloon string
                    const string = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                    string.setAttribute('d', 'M18 47 Q18 54 10 60');
                    string.setAttribute('stroke', '#888');
                    string.setAttribute('stroke-width', '2');
                    string.setAttribute('fill', 'none');
                    balloonSVG.appendChild(string);

                    // Balloon knot
                    const knot = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                    knot.setAttribute('x', '16');
                    knot.setAttribute('y', '45');
                    knot.setAttribute('width', '4');
                    knot.setAttribute('height', '6');
                    knot.setAttribute('fill', '#888');
                    balloonSVG.appendChild(knot);

                    // Balloon glow filter
                    const defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');
                    const filter = document.createElementNS('http://www.w3.org/2000/svg', 'filter');
                    filter.setAttribute('id', 'balloon-glow');
                    const feGaussianBlur = document.createElementNS('http://www.w3.org/2000/svg', 'feGaussianBlur');
                    feGaussianBlur.setAttribute('stdDeviation', '1.5');
                    feGaussianBlur.setAttribute('result', 'coloredBlur');
                    filter.appendChild(feGaussianBlur);
                    const feMerge = document.createElementNS('http://www.w3.org/2000/svg', 'feMerge');
                    const feMergeNode1 = document.createElementNS('http://www.w3.org/2000/svg', 'feMergeNode');
                    feMergeNode1.setAttribute('in', 'coloredBlur');
                    const feMergeNode2 = document.createElementNS('http://www.w3.org/2000/svg', 'feMergeNode');
                    feMergeNode2.setAttribute('in', 'SourceGraphic');
                    feMerge.appendChild(feMergeNode1);
                    feMerge.appendChild(feMergeNode2);
                    filter.appendChild(feMerge);
                    defs.appendChild(filter);
                    balloonSVG.appendChild(defs);

                    wrapper.appendChild(balloonSVG);
                    document.body.appendChild(wrapper);
                    setTimeout(() => {
                        if (wrapper && wrapper.parentNode) {
                            wrapper.remove();
                        }
                    }, 8000);
                }
            } catch (error) {
                console.error('Balon oluşturulurken hata:', error);
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            ekgSVG.style.display = 'none';
        });
    </script>
</body>
</html> 